(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t){},1:function(e,t){},2:function(e,t){},"2cfq":function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"6qxO":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){return'                    <span class="card-item__genre">'+e.escapeExpression(e.lambda(t,t))+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,s,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,r="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="card-wrapper">\n    <div class="card-image__wrapper">\n        <picture>\n           <source srcset="https://image.tmdb.org/t/p/w300'+u(typeof(s=null!=(s=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?s:i)===r?s.call(c,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:58},end:{line:4,column:73}}}):s)+'" media="(min-width: 1024px)" class="card-image"> \n           <source srcset="https://image.tmdb.org/t/p/w200'+u(typeof(s=null!=(s=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?s:i)===r?s.call(c,{name:"poster_path",hash:{},data:l,loc:{start:{line:5,column:58},end:{line:5,column:73}}}):s)+'" media="(min-width: 768px)" class="card-image"> \n        <img src="https://image.tmdb.org/t/p/w300'+u(typeof(s=null!=(s=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?s:i)===r?s.call(c,{name:"poster_path",hash:{},data:l,loc:{start:{line:6,column:49},end:{line:6,column:64}}}):s)+'" alt="'+u(typeof(s=null!=(s=d(n,"title")||(null!=t?d(t,"title"):t))?s:i)===r?s.call(c,{name:"title",hash:{},data:l,loc:{start:{line:6,column:71},end:{line:6,column:80}}}):s)+'" class="card-image" class="card-image">\n        </picture>\n     \n    </div>\n    <div class="card-info__wrapper">\n\n        <h2 class="card-title">'+u(typeof(s=null!=(s=d(n,"title")||(null!=t?d(t,"title"):t))?s:i)===r?s.call(c,{name:"title",hash:{},data:l,loc:{start:{line:12,column:31},end:{line:12,column:40}}}):s)+'</h2>\n        <ul class="card-list">\n            <li class="card-item">\n                <p class="card-item__about">Vote / Votes</p>\n                <p class="card-item__descript">\n                    <span class="card-item__vote">'+u(typeof(s=null!=(s=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?s:i)===r?s.call(c,{name:"vote_average",hash:{},data:l,loc:{start:{line:17,column:50},end:{line:17,column:66}}}):s)+'</span>\n                    <span style="color:rgb(140, 140, 140)">/</span>\n                    <span class="card-item__votes">'+u(typeof(s=null!=(s=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?s:i)===r?s.call(c,{name:"vote_count",hash:{},data:l,loc:{start:{line:19,column:51},end:{line:19,column:65}}}):s)+'</span>\n                </p>\n            </li>\n            <li class="card-item">\n                <p class="card-item__about">Popularity</p>\n                <p class="card-item__descript">'+u(typeof(s=null!=(s=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?s:i)===r?s.call(c,{name:"popularity",hash:{},data:l,loc:{start:{line:24,column:47},end:{line:24,column:61}}}):s)+'</p>\n            </li>\n            <li class="card-item">\n                <p class="card-item__about">Original Title</p>\n                <p class="card-item__descript">'+u(typeof(s=null!=(s=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?s:i)===r?s.call(c,{name:"original_title",hash:{},data:l,loc:{start:{line:28,column:47},end:{line:28,column:65}}}):s)+'</p>\n            </li>\n            <li class="card-item">\n                <p class="card-item__about">Genre</p>\n                <p class="card-item__descript">\n\n'+(null!=(o=d(n,"each").call(c,null!=t?d(t,"genre_ids"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:34,column:20},end:{line:36,column:29}}}))?o:"")+'                </p>\n            </li>\n        </ul>\n        <p class="card-description__title">About</p>\n        <p class="card-description__about">'+u(typeof(s=null!=(s=d(n,"overview")||(null!=t?d(t,"overview"):t))?s:i)===r?s.call(c,{name:"overview",hash:{},data:l,loc:{start:{line:41,column:43},end:{line:41,column:55}}}):s)+'</p>\n        <div class="card-button__wrapper">\n            <button data-name =\'watched\' class="modal-btn card-button__watched" type="button">add to watched</button>\n            <button data-name =\'queue\' class="modal-btn card-button__queue" type="button">add to queue</button>\n            <button data-name =\'trailer\' class="modal-btn card-button__trailer" type="button">watch trailer</button>\n        </div>\n    </div>\n\n</div>'},useData:!0})},L1EO:function(e,t,n){},LwSd:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,i="function",r=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="film">\n  <div class="film__poster">\n    <img data-id = \''+r(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:c)===i?o.call(s,{name:"id",hash:{},data:l,loc:{start:{line:4,column:20},end:{line:4,column:26}}}):o)+"' class=\"film__poster-photo\" src= 'https://image.tmdb.org/t/p/w300"+r(typeof(o=null!=(o=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?o:c)===i?o.call(s,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:92},end:{line:4,column:107}}}):o)+'\' alt="" />\n  </div>\n  <div class="film__preview">\n    <h2 class="film__preview-title">'+r(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:c)===i?o.call(s,{name:"title",hash:{},data:l,loc:{start:{line:7,column:36},end:{line:7,column:45}}}):o)+'</h2>\n    <p class="film__preview-info">'+r(typeof(o=null!=(o=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?o:c)===i?o.call(s,{name:"genre_ids",hash:{},data:l,loc:{start:{line:8,column:34},end:{line:8,column:47}}}):o)+" | "+r(typeof(o=null!=(o=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?o:c)===i?o.call(s,{name:"release_date",hash:{},data:l,loc:{start:{line:8,column:50},end:{line:8,column:66}}}):o)+'</p>\n    <p class="film__preview-popularity">'+r(typeof(o=null!=(o=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?o:c)===i?o.call(s,{name:"vote_average",hash:{},data:l,loc:{start:{line:9,column:40},end:{line:9,column:56}}}):o)+"</p>\n    </div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?o:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);var a=n("dcBu"),l=(n("PzF0"),n("6qxO")),o=n.n(l);const s="7f0b5ab01080cb0bb4b9db0d9bc41efa";n("NPBq");var c={body:document.querySelector("body"),header:document.querySelector(".header"),searchInfo:document.querySelector("#notify-text"),searchIconRef:document.querySelector(".search-icon"),listFilms:document.querySelector(".list-film"),pageHomeRef:document.querySelector('[data-nav-choice="home"]'),pageMyLibraryRef:document.querySelector('[data-nav-choice="my-library"]'),buttonListRef:document.querySelector('[data-button-list-header="watched-and-queue"]'),inputSearchRef:document.querySelector(".input-search"),sortBtn:document.querySelector(".sort-button"),paginationRef:document.querySelector(".tui-pagination")},i=n("LwSd"),r=n.n(i);let u;let d;const p=function(e){fetch(`https://api.themoviedb.org/3/search/movie?api_key=${s}&query=${e}&page=1&include_adult=false`).then(e=>e.json()).then(e=>{d=e.total_results,m(e)}).catch(e=>{console.log(e)})},m=function(e){const t=e.results;!function(e){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key="+s).then(e=>e.json()).then(t=>{h(t,e)}).catch(e=>{console.log(e)})}(t),f(t),(e=>{u=[...e];const t=r()(e);c.listFilms.innerHTML=t})(t)},h=function(e,t){const n=e.genres;n.map(e=>e.id),n.map(e=>e.name),t.map(e=>e.genre_ids)},f=function(e){e.map(e=>{e.release_date=e.release_date.slice(0,4)})};fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${s}&page=1`).then(e=>e.json()).then(e=>{m(e)}).catch(e=>{console.log(e)});let v;const _=e=>{("watched"===e.target.dataset.name||"queue"===e.target.dataset.name||"trailer"===e.target.dataset.name)&&console.log(e.target)};let g;document.querySelector(".list-film").addEventListener("click",(function(e){if("IMG"===e.target.nodeName){g=e.target.dataset.id,function(e){let t;u.forEach(n=>{n.id===Number(e)&&(t=n)}),function(e){let t=o()(e);a.create(t).show(),n=g,v=n,document.querySelector(".card-button__wrapper").addEventListener("click",_);var n}(t)}(e.target.dataset.id)}}));n("L1EO"),n("2cfq");var b=n("jffb"),y=n.n(b);c.inputSearchRef.addEventListener("change",y()((function(e){e.preventDefault();let t=e.target.value.match(/\w+/gi);t?(p(t),setTimeout(()=>{c.searchInfo.classList.remove("unSuccessful"),c.searchInfo.classList.add("successful"),c.searchInfo.textContent=`По вашему запросу найдено ${d} фильм(ов/а)`,0===d&&c.paginationRef.classList.add("is-not-visible")},500)):(c.searchInfo.classList.remove("successful"),c.searchInfo.classList.add("unSuccessful"),c.searchInfo.textContent="Search result not successful. Enter the correct movie name and try again",c.paginationRef.classList.add("is-not-visible"))}),1e3));n("cmSt");c.pageMyLibraryRef.addEventListener("click",e=>{c.pageMyLibraryRef.classList.add("is-active-btn"),c.pageHomeRef.classList.remove("is-active-btn"),c.buttonListRef.classList.remove("is-not-visible"),c.header.className="new-bcg",c.inputSearchRef.classList.add("is-not-visible"),c.searchIconRef.classList.add("is-not-visible")}),c.pageHomeRef.addEventListener("click",e=>{c.pageHomeRef.classList.add("is-active-btn"),c.pageMyLibraryRef.classList.remove("is-active-btn"),c.buttonListRef.classList.add("is-not-visible"),c.header.className="header",c.inputSearchRef.classList.remove("is-not-visible"),c.searchIconRef.classList.remove("is-not-visible")});var L=n("2c84"),w=n.n(L);n("lUE2");new w.a(document.getElementById("pagination2"),{totalItems:500,itemsPerPage:10,visiblePages:7,centerAlign:!0});c.paginationRef.addEventListener("click",e=>{p(e.target.textContent)})},cmSt:function(e,t){document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body > .spinner-border").classList.add("d-none"),document.querySelector(".header").classList.remove("d-none"),document.querySelector(".main").classList.remove("d-none"),document.querySelector(".footer").classList.remove("d-none")}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.1860f02df7d1071d8bd3.js.map